const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B8u7vdDW.js","./SSeTcJEm.js","./I67rZYQi.js"])))=>i.map(i=>d[i]);
import{n as O,H as q,I as g,m as L,J as W,K as V,i as F,s as Q,L as H,M as x,N as E,O as G,P as J,Q as Y,j as z,R as X,S as Z,U as K,e as A,E as k}from"./SSeTcJEm.js";import{c as ee}from"./I67rZYQi.js";const ae={trailing:!0};function te(e,a=25,s={}){if(s={...ae,...s},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let i,n,t=[],r,l;const o=(y,u)=>(r=ne(e,y,u),r.finally(()=>{if(r=null,s.trailing&&l&&!n){const D=o(y,l);return l=null,D}}),r);return function(...y){return r?(s.trailing&&(l=y),r):new Promise(u=>{const D=!n&&s.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const f=s.leading?i:o(this,y);for(const m of t)m(f);t=[]},a),D?(i=o(this,y),u(i)):t.push(u)})}}async function ne(e,a,s){return await e.apply(a,s)}const re=e=>e==="defer"||e===!1;function ye(...e){var m;const a=typeof e[e.length-1]=="string"?e.pop():void 0;se(e[0],e[1])&&e.unshift(a);let[s,i,n={}]=e;const t=O(()=>Z(s));if(typeof t.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=q();n.server??(n.server=!0),n.default??(n.default=ce),n.getCachedData??(n.getCachedData=R),n.lazy??(n.lazy=!1),n.immediate??(n.immediate=!0),n.deep??(n.deep=g.deep),n.dedupe??(n.dedupe="cancel"),n._functionName,r._asyncData[t.value];const l={cause:"initial",dedupe:n.dedupe};(m=r._asyncData[t.value])!=null&&m._init||(l.cachedData=n.getCachedData(t.value,r,{cause:"initial"}),r._asyncData[t.value]=T(r,t.value,i,n,l.cachedData));const o=r._asyncData[t.value];o._deps++;const y=()=>r._asyncData[t.value].execute(l),u=n.server!==!1&&r.payload.serverRendered;{let c=function(_){const h=r._asyncData[_];h!=null&&h._deps&&(h._deps--,h._deps===0&&(h==null||h._off()))};const d=L();if(d&&u&&n.immediate&&!d.sp&&(d.sp=[]),d&&!d._nuxtOnBeforeMountCbs){d._nuxtOnBeforeMountCbs=[];const _=d._nuxtOnBeforeMountCbs;W(()=>{_.forEach(h=>{h()}),_.splice(0,_.length)}),V(()=>_.splice(0,_.length))}const w=d&&(d._nuxtClientOnly||F(ee,!1));u&&r.isHydrating&&(o.error.value||o.data.value!=null)?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):d&&(!w&&r.payload.serverRendered&&r.isHydrating||n.lazy)&&n.immediate?d._nuxtOnBeforeMountCbs.push(y):n.immediate&&y();const B=X(),I=Q([t,...n.watch||[]],([_],[h])=>{var P,N;if((_||h)&&_!==h){const U=((P=r._asyncData[h])==null?void 0:P.data.value)!==g.value,M=r._asyncDataPromises[h]!==void 0;h&&c(h);const S={cause:"initial",dedupe:n.dedupe};(N=r._asyncData[_])!=null&&N._init||(S.cachedData=n.getCachedData(_,r,{cause:"initial"}),r._asyncData[_]=T(r,_,i,n,S.cachedData)),r._asyncData[_]._deps++,(n.immediate||U||M)&&r._asyncData[_].execute(S)}else o._execute({cause:"watch",dedupe:n.dedupe})},{flush:"sync"});B&&H(()=>{I(),c(t.value)})}const D={data:b(()=>{var c;return(c=r._asyncData[t.value])==null?void 0:c.data}),pending:b(()=>{var c;return(c=r._asyncData[t.value])==null?void 0:c.pending}),status:b(()=>{var c;return(c=r._asyncData[t.value])==null?void 0:c.status}),error:b(()=>{var c;return(c=r._asyncData[t.value])==null?void 0:c.error}),refresh:(...c)=>r._asyncData[t.value].execute(...c),execute:(...c)=>r._asyncData[t.value].execute(...c),clear:()=>p(r,t.value)},f=Promise.resolve(r._asyncDataPromises[t.value]).then(()=>D);return Object.assign(f,D),f}function b(e){return O({get(){var a;return(a=e())==null?void 0:a.value},set(a){const s=e();s&&(s.value=a)}})}function se(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function p(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=g.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=g.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function ie(e,a){const s={};for(const i of a)s[i]=e[i];return s}function T(e,a,s,i,n){var D;(D=e.payload._errors)[a]??(D[a]=g.errorValue);const t=i.getCachedData!==R,r=s,l=i.deep?x:E,o=n!=null,y=e.hook("app:data:refresh",async f=>{(!f||f.includes(a))&&await u.execute({cause:"refresh:hook"})}),u={data:l(o?n:i.default()),pending:E(!o),error:G(e.payload._errors,a),status:E("idle"),execute:(f={})=>{if(e._asyncDataPromises[a]){if(re(f.dedupe??i.dedupe))return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if(f.cause==="initial"||e.isHydrating){const c="cachedData"in f?f.cachedData:i.getCachedData(a,e,{cause:f.cause??"refresh:manual"});if(c!=null)return e.payload.data[a]=u.data.value=c,u.error.value=g.errorValue,u.status.value="success",Promise.resolve(c)}u.pending.value=!0,u.status.value="pending";const m=new Promise((c,d)=>{try{c(r(e))}catch(w){d(w)}}).then(async c=>{if(m.cancelled)return e._asyncDataPromises[a];let d=c;i.transform&&(d=await i.transform(c)),i.pick&&(d=ie(d,i.pick)),e.payload.data[a]=d,u.data.value=d,u.error.value=g.errorValue,u.status.value="success"}).catch(c=>{if(m.cancelled)return e._asyncDataPromises[a];u.error.value=Y(c),u.data.value=z(i.default()),u.status.value="error"}).finally(()=>{m.cancelled||(u.pending.value=!1,delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=m,e._asyncDataPromises[a]},_execute:te((...f)=>u.execute(...f),0,{leading:!0}),_default:i.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var f;y(),(f=e._asyncData[a])!=null&&f._init&&(e._asyncData[a]._init=!1),t||J(()=>{var m;(m=e._asyncData[a])!=null&&m._init||(p(e,a),u.execute=()=>Promise.resolve(),u.data.value=g.value)})}};return u}const ce=()=>g.value,R=(e,a,s)=>{if(a.isHydrating)return a.payload.data[e];if(s.cause!=="refresh:manual"&&s.cause!=="refresh:hook")return a.static.data[e]},j={content:"v3.5.0--JxserYUqobXMGtMMPsxIAMKC9J9jCGdUr8lw3eQ01hw"},ue={content:"_content_content",info:"_content_info"},me={content:{type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},info:{type:"data",fields:{}}},$=(e,a)=>{const s=e._conditions;return s.length>0?`(${s.join(` ${a} `)})`:""},C=e=>{const a=[],s={_conditions:a,where(i,n,t){let r;switch(n.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(t)){const l=t.map(o=>v(o)).join(", ");r=`"${String(i)}" ${n.toUpperCase()} (${l})`}else throw new TypeError(`Value for ${n} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(t)&&t.length===2)r=`"${String(i)}" ${n.toUpperCase()} ${v(t[0])} AND ${v(t[1])}`;else throw new Error(`Value for ${n} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":r=`"${String(i)}" ${n.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":r=`"${String(i)}" ${n.toUpperCase()} ${v(t)}`;break;default:r=`"${String(i)}" ${n} ${v(typeof t=="boolean"?Number(t):t)}`}return a.push(`${r}`),s},andWhere(i){const n=i(C());return a.push($(n,"AND")),s},orWhere(i){const n=i(C());return a.push($(n,"OR")),s}};return s},oe=(e,a)=>{const s={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},i={__params:s,andWhere(t){const r=t(C());return s.conditions.push($(r,"AND")),i},orWhere(t){const r=t(C());return s.conditions.push($(r,"OR")),i},path(t){return i.where("path","=",K(t))},skip(t){return s.offset=t,i},where(t,r,l){return i.andWhere(o=>o.where(String(t),r,l)),i},limit(t){return s.limit=t,i},select(...t){return t.length&&s.selectedFields.push(...t),i},order(t,r){return s.orderBy.push(`"${String(t)}" ${r}`),i},async all(){return a(e,n()).then(t=>t||[])},async first(){return a(e,n({limit:1})).then(t=>t[0]||null)},async count(t="*",r=!1){return a(e,n({count:{field:String(t),distinct:r}})).then(l=>l[0].count)}};function n(t={}){let r="SELECT ";if(t!=null&&t.count)r+=`COUNT(${t.count.distinct?"DISTINCT ":""}${t.count.field}) as count`;else{const o=Array.from(new Set(s.selectedFields));r+=o.length>0?o.map(y=>`"${String(y)}"`).join(", "):"*"}r+=` FROM ${ue[String(e)]}`,s.conditions.length>0&&(r+=` WHERE ${s.conditions.join(" AND ")}`),s.orderBy.length>0?r+=` ORDER BY ${s.orderBy.join(", ")}`:r+=" ORDER BY stem ASC";const l=(t==null?void 0:t.limit)||s.limit;return l>0&&(s.offset>0?r+=` LIMIT ${l} OFFSET ${s.offset}`:r+=` LIMIT ${l}`),r}return i};function v(e){return`'${String(e).replace(/'/g,"''")}'`}async function De(e,a){return await $fetch(`/__nuxt_content/${a}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:j[String(a)],t:void 0}})}async function le(e,a,s){var i,n,t;return await $fetch(`/__nuxt_content/${a}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...(t=(n=(i=e==null?void 0:e.node)==null?void 0:i.req)==null?void 0:n.headers)!=null&&t.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:j[String(a)],t:void 0},method:"POST",body:{sql:s}})}const ge=e=>{var s,i;const a=(i=(s=A())==null?void 0:s.ssrContext)==null?void 0:i.event;return oe(e,(n,t)=>de(a,n,t))};async function de(e,a,s){return window.WebAssembly?fe(a,s):le(e,String(a),s)}async function fe(e,a){return await k(()=>import("./B8u7vdDW.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(i=>i.loadDatabaseAdapter(e)).then(i=>i.all(a))}export{j as a,me as c,De as f,ge as q,ue as t,ye as u};
